!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=10)}([function(t,e,n){"use strict";var r=n(1);e.a={trapFocus:function(t){var e=this;t.addEventListener("keydown",(function(n){if(!n||!r.a.is("Tab",n))return!1;var i=e.getAll(t),o=Array.from(i),a=o.indexOf(document.activeElement),u=o.length-1,l=r.a.isShift(n);return l&&0===a?(i[u].focus(),n.preventDefault()):l||a!==u||(i[0].focus(),n.preventDefault()),!0}))},getAll:function(t){return t?t.querySelectorAll(this.query):null},getFirst:function(t){return t?t.querySelector(this.query):null},getLast:function(t){var e=this.getAll(t);return e?e[e.length-1]:null},setFocusBack:function(){window.chfFocusBack=document.activeElement},getFocusBack:function(){return window.chfFocusBack},focusBack:function(){return!!window.chfFocusBack&&(window.chfFocusBack.focus(),!0)},focusTo:function(t){if(!t)return!1;t.focus()},isFocusable:function(t){return t.matches(this.query)},isParentFocusable:function(t){return!!t.closest(this.query)},query:'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'}},function(t,e,n){"use strict";e.a={codes:[{key:"Escape",keyCode:27},{key:"Tab",keyCode:9},{key:"Return",keyCode:19}],is:function(t,e){return e.key===t||this.codes.some((function(n){return n.key===t&&n.keyCode===e.keyCode}))},isShift:function(t){return t.shiftKey}}},function(t,e,n){"use strict";e.a={tealiumText:function(t){return t=t.toLowerCase().replace(/ä/gi,"ae").replace(/ö/gi,"oe").replace(/ü/gi,"ue").replace(/ß/gi,"ss").replace(/_/g,"-").replace(/ /g,"-").replace(/[^0-9a-z-.]/g,"")},overlayManualUtagLink:function(t){if("undefined"!=typeof utag)try{utag.link(t)}catch(t){console.log("utag.link-error: "+t)}return!0}}},function(t,e,n){"use strict";var r=n(0),i=function(){return document.querySelector("[data-chf-modal]")},o=function(t){return t?t.querySelector("[data-chf-modal-bg]"):null},a=function(t){return t?t.querySelectorAll("[data-chf-modal-close]"):null},u=function(t){if(!t)return!1;var e=r.a.getAll(t);return!!e&&(r.a.getFocusBack()||r.a.setFocusBack(),e[0].focus(),r.a.trapFocus(t),!0)},l=function(t,e){var n=t.querySelector(e);return!!n&&(n.remove(),!0)},c=n(1),s={close:function(){var t=new CustomEvent("chfModalClose");return document.dispatchEvent(t),!0},keyClose:function(t){return!(!t||!c.a.is("Escape",t))&&(this.close(),!0)},removeModal:function(){var t=i();return!!t&&(t.classList.remove("chf-modal--visible"),r.a.focusBack(),setTimeout((function(){t.remove()}),400),!0)},remove:function(){var t=i();return!!t&&(t.classList.remove("chf-modal--visible"),setTimeout((function(){t.remove()}),400),!0)},addCloseEvents:function(t){return!!t&&(this.addCloseButtonEvent(t),this.addClickOutsideEvent(t),this.addKeyCloseEvent(t),!0)},addCloseButtonEvent:function(t){var e=this;return!!t&&(a(t).forEach((function(t){t.addEventListener("click",e.close)})),!0)},addClickOutsideEvent:function(t){if(!t)return!1;var e=o(t);return!!e&&(e.addEventListener("click",this.close),!0)},addKeyCloseEvent:function(t){var e=this;return!!t&&(t.addEventListener("keyup",(function(t){return e.keyClose(t)})),!0)}},d=n(5),f=n.n(d),h={open:function(t,e){if(!t&&!e)return!1;this.checkAlreadyOpen();var n=new CustomEvent("chfModalOpen",{detail:{headline:t,content:e}});return document.dispatchEvent(n),!0},insertModal:function(t){if(!t&&!t.detail)return!1;var e=t.detail,n=e.headline,r=e.content,o=f.a.replace(/###HEADLINE###/gm,n||"").replace(/###CONTENT###/gm,r||"");document.body.insertAdjacentHTML("beforeend",o);var a=i();return n||l(a,"[data-chf-modal-headline]"),s.addCloseEvents(a),u(a),setTimeout((function(){a.classList.add("chf-modal--visible")}),0),!0},checkAlreadyOpen:function(){var t=i();return!!t&&(t.remove(),!0)}};e.a={addEvents:function(){document.addEventListener("chfModalOpen",(function(t){t.preventDefault(),t.stopImmediatePropagation(),h.insertModal(t)})),document.addEventListener("chfModalClose",(function(t){t.preventDefault(),t.stopImmediatePropagation(),s.removeModal(t)}))},open:function(t,e){return h.open(t,e)},close:function(){return s.close()}}},function(t,e,n){var r,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i),!0,t.exports=o(),!!0){var a=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=a,u}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var l in o)o[l]&&(u+="; "+l,!0!==o[l]&&(u+="="+o[l].split(";")[0]));return document.cookie=e+"="+n+u}}function a(t,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var u=o[a].split("="),l=u.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(u[0]);if(l=(r.read||r)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(t){}if(i[c]=l,t===c)break}catch(t){}}return t?i[t]:i}}return i.set=o,i.get=function(t){return a(t,!1)},i.getJSON=function(t){return a(t,!0)},i.remove=function(e,n){o(e,"",t(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},function(t,e){t.exports='<div class=chf-modal role=dialog aria-modal=true aria-labelledby=chf-modal-headline aria-describedby=chf-modal-content data-chf-modal> <div class="chf-modal__bg chf-bg-dark" data-chf-modal-bg></div> <div class=chf-modal__container> <div class=chf-modal__inner> <h2 class="chf-heading--secondary chf-text-align--center chf-space--2" data-chf-modal-headline> ###HEADLINE### </h2> <div class=chf-modal__content data-chf-modal-content> ###CONTENT### </div> <button type=button class="chf-modal__close chf-cta-icon" data-chf-modal-close> <svg class="chf-icon chf-icon--medium" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewBox="0 0 64 64"> <path fill=#262626 d="M51.822 49.728l-17.7-17.7 17.698-17.7a1.5 1.5 0 10-2.121-2.121l-17.698 17.7-17.7-17.7a1.5 1.5 0 10-2.121 2.121l17.7 17.7-17.698 17.7a1.5 1.5 0 102.122 2.121l17.698-17.7 17.7 17.7c.293.293.677.439 1.06.439a1.5 1.5 0 001.06-2.56z"/> </svg> </button> </div> </div> </div> '},function(t,e,n){"use strict";var r=n(2);e.a=function(t){var e=t.querySelectorAll("[data-chf-image-link]"),n=t.querySelectorAll("[data-chf-link]");if(!e||!n)return!1;e.forEach((function(t){var e=t.getAttribute("data-tealium-rel");t.setAttribute("data-tealium-rel",r.a.tealiumText(e))})),n.forEach((function(t){var e=t.getAttribute("data-tealium-rel");t.setAttribute("data-tealium-rel",r.a.tealiumText(e))}))}},function(t,e,n){"use strict";var r={addFieldEvents:function(t){var e=this;return!!t&&(this.getAllRequired(t).forEach((function(n){e.getFieldInput(n).addEventListener("change",(function(){return e.validateField(n,t)}))})),!0)},validateField:function(t,e){if(!t||!e)return null;if(!t.hasAttribute("data-chf-validation-required"))return null;var n=this.getFieldInput(t),r=n.name,i=n.id,o=this.getInputValue(n),a=this.getFieldRule(t),u=t.dataset.chfValidationErrorMessage,l=a?this.validateRule(o,a):this.validateRequired(o),c=this.validateRelated(n,l,e),s=c?this.setFieldSuccessStatus(r,i,o):this.setFieldErrorStatus(r,i,o,u);c?(this.removeErrorClass(t),this.removeAriaAttributes(n)):(this.addErrorClass(t),this.addAriaAttributes(n));var d=new CustomEvent("chf-validation-field-status",{detail:s,bubbles:!0});return t.dispatchEvent(d),s},validateRelated:function(t,e,n){var r=this;return t&&n?(this.getRelatedInputs(t,n).forEach((function(t){var n=r.getFieldFromInput(t),i=r.getInputValue(t),o=r.getFieldRule(n),a=o?r.validateRule(i,o):r.validateRequired(i);e||a?(e=!0,r.removeErrorClass(n),r.removeAriaAttributes(t)):(e=!1,r.addErrorClass(n),r.addAriaAttributes(t))})),e):null},validateRequired:function(t){return!!t},validateRule:function(t,e){return!!e&&new RegExp(e).test(t)},addErrorClass:function(t){if(!t)return null;var e=t.dataset.chfValidationErrorClass;return e?t.classList.add(e):null},removeErrorClass:function(t){if(!t)return null;var e=t.dataset.chfValidationErrorClass;return e?t.classList.remove(e):null},addAriaAttributes:function(t){if(!t)return!1;t.setAttribute("aria-describedby","".concat(t.id,"-error")),t.setAttribute("aria-invalid",!0)},removeAriaAttributes:function(t){if(!t)return!1;t.removeAttribute("aria-describedby"),t.removeAttribute("aria-invalid")},setFieldErrorStatus:function(t,e,n,r){return{name:t,id:e,value:n,valid:!1,errorMessage:r||""}},setFieldSuccessStatus:function(t,e,n){return{name:t,id:e,value:n,valid:!0,errorMessage:""}},getAllRequired:function(t){return t?t.querySelectorAll("[data-chf-validation-required]"):null},getFieldInput:function(t){return t?t.querySelector("input, select, textarea"):null},getInputValue:function(t){return t&&("checkbox"!==t.type||t.checked)?t.value:null},getFieldRule:function(t){return t&&t.dataset?t.dataset.chfValidationRule:null},getRelatedInputs:function(t,e){return!(!t||!e)&&Array.from(e.querySelectorAll("input[name='".concat(t.name,"']"))).filter((function(e){return e!==t}))},getFieldFromInput:function(t){return t?t.closest("[data-chf-validation-required]"):null}},i={addError:function(t,e){if(!t||!e)return null;var n=this.getErrors(t),r=this.getErrorItem(n,e);return!n||r?null:(this.showErrors(n),n.insertAdjacentHTML("beforeend",'<li id="'.concat(e.id,'-error" data-chf-validation-form-error="').concat(e.name,'">').concat(e.errorMessage,"</li>")),!0)},removeError:function(t,e){if(!t||!e)return null;var n=this.getErrors(t),r=this.getErrorItem(n,e);return r?(n.removeChild(r),this.hideErrors(n),!0):null},getErrors:function(t){return t?t.querySelector("[data-chf-validation-form-errors]"):null},getErrorItem:function(t,e){return t&&e?t.querySelector('[data-chf-validation-form-error="'.concat(e.name,'"]')):null},hasErrorItems:function(t){return!!t&&!!t.querySelector("[data-chf-validation-form-error")},showErrors:function(t){return!t||this.hasErrorItems(t)?null:t.style.display="block"},hideErrors:function(t){return!t||this.hasErrorItems(t)?null:t.style.removeProperty("display")}},o={addFormEvents:function(t){var e=this;return!!t&&(t.addEventListener("submit",(function(t){return e.handleSubmit(t)})),t.addEventListener("chf-validation-field-status",this.handleFieldStatus),!0)},validateForm:function(t){new FormData(t);var e=r.getAllRequired(t),n=[];e.forEach((function(e){var i=r.validateField(e,t);n.push(i)}));var i=!n.find((function(t){return!t.valid})),o=new CustomEvent("chf-validation-success",{detail:n}),a=new CustomEvent("chf-validation-error",{detail:n}),u={valid:i,fields:n};return t.dispatchEvent(i?o:a),u},handleSubmit:function(t){t.preventDefault();var e=t.target;this.validateForm(e)},handleFieldStatus:function(t){t.cancelBubble=!0;var e=t.currentTarget,n=t.detail;return n?n.valid?i.removeError(e,n):i.addError(e,n):null}};e.a=function(t){var e=t.querySelectorAll("[data-chf-validation]");return e?(e.forEach((function(t){o.addFormEvents(t),r.addFieldEvents(t)})),!0):null}},,,function(t,e,n){n(16),t.exports=n(13)},function(t,e,n){var r=n(12);t.exports=Number.isInteger||function(t){return"number"==typeof t&&r(t)&&Math.floor(t)===t}},function(t,e,n){"use strict";t.exports=Number.isFinite||function(t){return!("number"!=typeof t||t!=t||t===1/0||t===-1/0)}},function(t,e,n){},,,function(t,e,n){"use strict";n.r(e);var r=n(3),i=n(6),o=n(7),a={init:function(t){var e=t?t.querySelectorAll("[data-chf-icon-trigger]"):null;this.addEvents(e)},addEvents:function(t){var e=this;t.forEach((function(t){t.addEventListener("mouseenter",e.handleMouseEnter),t.addEventListener("mouseleave",e.handleMouseLeave)}))},handleMouseEnter:function(){var t=this.querySelector(".chf-cta-icon-text__icon--active"),e=this.querySelector(".chf-cta-icon-text__icon--default");return!(!t||!e)&&(t.classList.add(this.dataset.chfIconTrigger),t.classList.remove("chf-cta-icon-text__icon--active"),e.classList.add("chf-cta-icon-text__icon--active"),!0)},handleMouseLeave:function(){var t=this.querySelector("."+this.dataset.chfIconTrigger),e=this.querySelector(".chf-cta-icon-text__icon--default");return!(!t||!e)&&(e.classList.remove("chf-cta-icon-text__icon--active"),t.classList.add("chf-cta-icon-text__icon--active"),!0)}},u={portal:"phoenix",apiUrl:"",getPhoenixService:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-cart-phoenix]");if(!e)return!1;var n=e.getAttribute("data-chf-cart-phoenix");return""!==n&&(this.apiUrl=n,!0)},getData:function(t){var e=this;return t||(t=!1),fetch(this.apiUrl,{method:"GET",headers:{Accept:"application/json"}}).then((function(t){return t.ok?t.json():null})).then((function(t){return{itemsCount:t&&t.basket&&t.basket.itemsCount?t.basket.itemsCount:0,loggedIn:!!(t&&t.userData&&t.userData.loggedIn)&&t.userData.loggedIn,nickname:t&&t.userData&&t.userData.nickname?t.userData.nickname:"",level:t&&t.userData&&t.userData.loginLevel?t.userData.loginLevel:0}})).then((function(n){return{portal:e.portal,itemsCount:n.itemsCount,loggedIn:n.loggedIn,nickname:n.nickname,level:n.level,l3Support:t}}))}},l=n(4),c=n.n(l),s={portal:"vespa-shop",cookieName:"",getVespaShopCookie:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-cart-vespa]");if(!e)return!1;var n=e.getAttribute("data-chf-cart-vespa");return""!==n&&(this.cookieName=n,!0)},getData:function(){var t=this;return new Promise((function(e){var n=c.a.get(t.cookieName);e(n?parseInt(n):0)})).then((function(e){return{portal:t.portal,itemsCount:e}}))}},d={apiUrl:"/tech/chf/cart/count",portal:"one-shop",cartName:"",getOneShopName:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-cart-one-shop]");if(!e)return!1;var n=e.getAttribute("data-chf-cart-one-shop");return""!==n&&(this.cartName=n,!0)},getData:function(){var t=this,e="".concat(this.apiUrl,"?cartName=").concat(this.cartName);return fetch(e,{method:"GET"}).then((function(t){return t.ok?t.json():null})).then((function(t){return t&&t.basket&&t.basket.itemsCount?t.basket.itemsCount:0})).then((function(e){return{portal:t.portal,itemsCount:e}}))}},f={remove:function(t){return t?t.replace(/^.*\/\/[^\/]+/,""):""},removeInLink:function(t){if(!t||!t.hasAttribute("href"))return!1;t.href=this.remove(t.href)},removeInContent:function(t){var e=this;return!!t&&(t.querySelectorAll("a").forEach((function(t){return e.removeInLink(t),!0})),t)}};function h(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v={cartData:[],triggers:null,notifications:null,hasModal:!1,triggerHref:null,modalTemplate:null,modalContent:null,init:function(t){return!!t&&(this.setTriggers(t),this.setNotifications(t),this.addTriggersEvent(),this.addCartUpdateEvent(t),this.getModalTemplate(t),this.processExernalLinks(),this.updateCart(t),!0)},updateCart:function(t){var e=this,n=this.getPortalsData(t);this.setModalContent(),n.forEach((function(t){t.then((function(n){"phoenix"===n.portal&&(e.phoenixPortal=t),e.addCartData(n),e.updateCartCount(),e.updateModalContent(n),e.updateHasModal(),e.updateTriggerHref(n)}))}))},getPortalsData:function(t){var e=[],n=s.getVespaShopCookie(t),r=u.getPhoenixService(t),i=d.getOneShopName(t);if(n&&(e=[].concat(h(e),[s.getData()])),r){var o=u.getData();e=[].concat(h(e),[o]),this.phoenixPortal=o}return i&&(e=[].concat(h(e),[d.getData()])),e},addTriggersEvent:function(){var t=this;if(!this.triggers)return!1;this.triggers.forEach((function(e){e.addEventListener("click",(function(n){return t.handleTriggerClick(n,e)}))}))},addCartUpdateEvent:function(t){var e=this;document.addEventListener("chfCartUpdate",(function(n){return e.updateCart(t)})),document.addEventListener("TelekomOneshopUpdateCartItemCount",(function(n){return e.updateCart(t)}))},handleTriggerClick:function(t,e){return this.hasModal?(t.preventDefault(),this.openCartModal(),!0):!(!this.triggerHref||!e)&&(e.href=this.triggerHref,!0)},addCartData:function(t){var e=n(11);return!(!t||!e(t.itemsCount))&&(this.filterDuplicateData(t),this.cartData=[].concat(h(this.cartData),[t]),!1)},filterDuplicateData:function(t){this.cartData=this.cartData.filter((function(e){return e.portal!==t.portal}))},updateCartCount:function(){if(!this.notifications)return!1;var t=this.getTotalCount();return this.notifications.forEach((function(e){e.innerHTML=t,t>0?e.classList.add("chf-cta-icon-text__notification--visible"):e.classList.remove("chf-cta-icon-text__notification--visible")})),!0},setTriggers:function(t){return!!t&&(this.triggers=t.querySelectorAll("[data-chf-cart-trigger]"),!0)},setNotifications:function(t){return!!t&&(this.notifications=t.querySelectorAll("[data-chf-cart-notification]"),!0)},getTotalCount:function(){return this.cartData.reduce((function(t,e){return t+e.itemsCount}),0)},getModalTemplate:function(t){return!!t&&(this.modalTemplate=t.querySelector("[data-chf-cart-modal]"),!!this.modalTemplate)},setModalContent:function(){return!!this.modalTemplate&&(this.modalContent=this.modalTemplate.cloneNode(!0),!0)},updateTriggerHref:function(t){if(this.hasModal||!t.itemsCount||!this.modalContent)return!1;var e=this.modalContent.querySelector(".js-chf-cart-".concat(t.portal," a"));return!!e&&(this.triggers.forEach((function(t){if(!t.hasAttribute("href"))return!1;t.href=e.href})),!0)},openCartModal:function(){return!!this.modalContent&&(r.a.open(null,this.modalContent.outerHTML),!0)},hideEmptyShops:function(t,e){t.itemsCount>0&&e.classList.remove("chf-display--none")},updateModalContent:function(t){if(!this.modalContent)return!1;var e=this.modalContent.querySelector(".js-chf-cart-".concat(t.portal));return!!e&&(this.hideEmptyShops(t,e),e.outerHTML=e.outerHTML.replace(/{{ITEMS_COUNT}}/gi,t.itemsCount),!0)},updateHasModal:function(){var t=this.filterActivePortals();this.hasModal=t.length>1},filterActivePortals:function(){return this.cartData?this.cartData.filter((function(t){return t.itemsCount>0})):[]},processExernalLinks:function(){this.triggers.forEach((function(t){f.removeInLink(t)})),this.modalTemplate=f.removeInContent(this.modalTemplate)}},m={getTriggers:function(t){return t?t.querySelectorAll("[data-chf-header-flyout-trigger]"):null},getCloses:function(t){return t?t.querySelectorAll("[data-chf-header-flyout-close]"):null},getTriggerParent:function(t){return t?t.parentNode:null},getFlyout:function(t){return t?this.getTriggerParent(t).querySelector("[data-chf-header-flyout]"):null},getTriggerActiveClass:function(t){return t?t.dataset.chfHeaderFlyoutTriggerActive:null},setAriaExpanded:function(t){if(!t)return!1;t.ariaExpanded="true"},removeAriaExpanded:function(t){if(!t)return!1;t.ariaExpanded="false"},disableMobilePageScroll:function(){if(!document.body||!("ontouchend"in document.body))return!1;document.body.classList.add("chf-overflow--hidden")},enableMobilePageScroll:function(){if(!document.body||!("ontouchend"in document.body))return!1;document.body.classList.remove("chf-overflow--hidden")},emitOpenEvent:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-header-flyout-event-target]");if(!e)return!1;var n=new CustomEvent("chfHeaderFlyoutOpen");return e.dispatchEvent(n),!0},emitCloseEvent:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-header-flyout-event-target]");if(!e)return!1;var n=new CustomEvent("chfHeaderFlyoutClose");return e.dispatchEvent(n),!0},getFlyoutId:function(t){return t.dataset.chfHeaderFlyoutRemoveDom||null},getFlyoutNode:function(t){return t.querySelector("[data-chf-header-flyout-remove-dom-node]")||null}},p={root:null,currentTrigger:null,currentFlyout:null,keepOpen:!1,mouseEntered:!1,flyoutsDOM:[],setRoot:function(t){return!!t&&(this.root=t,!0)},setCurrentFlyout:function(t){return!!t&&(this.currentFlyout=t,!0)},setCurrentTrigger:function(t){return!!t&&(this.currentTrigger=t,!0)},setKeepOpen:function(){this.keepOpen=!0},setFlyoutsDOM:function(t){return!!t.length&&(this.flyoutsDOM=Array.from(t).map((function(t){return{id:m.getFlyoutId(t),node:m.getFlyoutNode(t)}})),!0)},removeCurrentFlyout:function(){this.currentFlyout=null},removeCurrentTrigger:function(){this.currentTrigger=null},removeKeepOpen:function(){this.keepOpen=!1}},y={showAmount:0,show:function(t){return!!t&&(t.classList.add("chf-header--bg"),this.showAmount++,!0)},hide:function(t){return!!t&&(this.showAmount>1?(this.showAmount=1,!0):(t.classList.remove("chf-header--bg"),this.showAmount--,!0))}},E=n(1),C={closeFlyout:function(t,e){this.removeFlyoutOpen(t),this.removeTriggerActive(e),this.removeCloseEvents(),this.removeFlyoutDOM(t),m.removeAriaExpanded(e),p.removeCurrentFlyout(t),p.removeCurrentTrigger(e),y.hide(p.root),m.enableMobilePageScroll(),m.emitCloseEvent(t)},closePreviousFlyout:function(){var t=p.currentTrigger,e=p.currentFlyout;e&&this.closeFlyout(e,t)},removeFlyoutOpen:function(t){return!!t&&(t.classList.remove("chf-header-flyout--open"),!0)},removeTriggerActive:function(t){var e=m.getTriggerActiveClass(t);return!!e&&(t.classList.remove(e),!0)},addCloseEvents:function(){this.addHoverOutEvent(),this.addFocusOutEvent(),this.addKeyCloseEvent()},removeCloseEvents:function(){this.removeHoverOutEvent(),this.removeFocusOutEvent(),this.removeKeyCloseEvent()},addHoverOutEvent:function(){var t=p.currentTrigger.parentNode;return!!t&&(!("ontouchend"in t)&&(t.addEventListener("mouseleave",this.handleHoverOut),!0))},removeHoverOutEvent:function(){if(!p.currentTrigger)return!1;p.currentTrigger.parentNode.removeEventListener("mouseleave",this.handleHoverOut)},handleHoverOut:function(t){p.keepOpen=!1,C.addEnterFlyoutEvent(),setTimeout((function(){p.keepOpen||(C.closeFlyout(p.currentFlyout,p.currentTrigger),C.removeEnterFlyoutEvent())}),100)},addEnterFlyoutEvent:function(){var t=p.currentFlyout;return!!t&&(t.addEventListener("mouseenter",this.handleEnterFlyout),!0)},removeEnterFlyoutEvent:function(){var t=p.currentFlyout;return!!t&&(t.removeEventListener("mouseenter",this.handleEnterFlyout),!0)},handleEnterFlyout:function(){p.keepOpen=!0},addFocusOutEvent:function(){p.currentTrigger.parentNode.addEventListener("focusout",this.handleFocusOut)},removeFocusOutEvent:function(){return!!p.currentTrigger&&(p.currentTrigger.parentNode.removeEventListener("focusout",this.handleFocusOut),!0)},handleFocusOut:function(t){var e=t.currentTarget,n=p.currentFlyout,r=p.currentTrigger;return setTimeout((function(){e.contains(document.activeElement)||document.activeElement===document.body||C.closeFlyout(n,r)}),0),!0},addKeyCloseEvent:function(){document.addEventListener("keyup",this.handleKeyClose)},removeKeyCloseEvent:function(){document.removeEventListener("keyup",this.handleKeyClose)},handleKeyClose:function(t){return!!(t&&E.a.is("Escape",t)&&p.currentTrigger)&&(p.currentTrigger.focus(),C.closeFlyout(p.currentFlyout,p.currentTrigger),!0)},removeFlyoutDOM:function(t){if(!t)return!1;var e=m.getFlyoutNode(t);return!!e&&(e.remove(),!0)}},L={openFlyout:function(t,e){C.closePreviousFlyout(),this.setFlyoutOpen(t),this.setTriggerActive(e),this.addFlyoutDOM(t),p.setCurrentFlyout(t),p.setCurrentTrigger(e),C.addCloseEvents(),m.setAriaExpanded(e),y.show(p.root),m.disableMobilePageScroll(),m.emitOpenEvent(t)},setFlyoutOpen:function(t){return!!t&&(t.classList.add("chf-header-flyout--open"),!0)},setTriggerActive:function(t){var e=m.getTriggerActiveClass(t);return!!e&&(t.classList.add(e),!0)},addFlyoutDOM:function(t){if(!t)return!1;var e=m.getFlyoutId(t);if(!e)return!1;var n=p.flyoutsDOM.find((function(t){return t.id===e}));return!!n&&(t.appendChild(n.node),!0)}},S={init:function(t){p.setRoot(t),this.removeFlyoutsDOM(),this.addEvents()},addEvents:function(){var t=this;if(!p.root)return!1;var e=m.getTriggers(p.root),n=m.getCloses(p.root);return e.forEach((function(e){t.addTriggerEvents(e),t.addTriggerParentEvents(e)})),n.forEach((function(e){t.addCloseEvents(e)})),!0},addTriggerEvents:function(t){return!!t&&(t.addEventListener("click",this.handleTrigger),t.addEventListener("mouseenter",this.handleMouseEnter),!0)},addTriggerParentEvents:function(t){var e=m.getTriggerParent(t);return!!e&&(!("ontouchend"in e)&&(e.addEventListener("mouseleave",this.handleMouseLeave),!0))},addCloseEvents:function(t){return!!t&&(t.addEventListener("click",this.handleClose),!0)},handleTrigger:function(t){var e=t.currentTarget,n=m.getFlyout(e);return!!n&&(!p.mouseEntered&&(e===p.currentTrigger?C.closeFlyout(n,e):(t.preventDefault(),L.openFlyout(n,e)),!0))},handleMouseEnter:function(t){var e=t.currentTarget,n=m.getFlyout(e);return e!==p.currentTrigger&&(L.openFlyout(n,e),p.mouseEntered=!0,setTimeout((function(){p.mouseEntered=!1}),100),!0)},handleMouseLeave:function(t){C.closeFlyout(p.currentFlyout,p.currentTrigger)},handleClose:function(t){t.preventDefault(),p.currentTrigger.focus(),C.closeFlyout(p.currentFlyout,p.currentTrigger)},removeFlyoutsDOM:function(){if(!p.root)return!1;var t=p.root.querySelectorAll("[data-chf-header-flyout-remove-dom]");return p.setFlyoutsDOM(t),t.forEach((function(t){var e=m.getFlyoutNode(t);e&&e.remove()})),!0}},T={container:null,containerHTML:"",currentLevel:0,currentTrigger:null,currentSlide:null,triggerPath:[],slidePath:[],addCurrentLevel:function(){this.currentLevel++},subtractCurrentLevel:function(){this.currentLevel--},setCurrentTrigger:function(t){return!!t&&(this.currentTrigger=t,!0)},setCurrentSlide:function(t){return!!t&&(this.currentSlide=t,!0)},setContainer:function(t){return!!t&&(this.container=t.querySelector("[data-chf-mobile-navigation]"),!0)},setContainerHTML:function(){this.containerHTML=this.container?this.container.innerHTML:null},addTriggerPath:function(t){return!!t&&(this.triggerPath.push(t),!0)},removeTriggerPath:function(){this.triggerPath.pop()},resetTriggerPath:function(){this.triggerPath=[]},addSlidePath:function(t){return!!t&&(this.slidePath.push(t),!0)},removeSlidePath:function(){this.slidePath.pop()},resetSlidePath:function(){this.slidePath=[]}},b=n(0),k={updateTransition:function(){return!!T.container&&(T.container.style.transform=T.currentLevel>0?"translateX(-".concat(T.currentLevel,"00%)"):"",!0)},resetTransition:function(){T.currentLevel=0,this.updateTransition()},getTriggers:function(){return T.container?T.container.querySelectorAll("[data-chf-mobile-navigation-trigger]"):null},getBacks:function(){return T.container?T.container.querySelectorAll("[data-chf-mobile-navigation-back]"):null},getSlide:function(t){return t?t.parentNode.querySelector("[data-chf-mobile-navigation-slide]"):null},getPreviousClicked:function(){return T.triggerPath.length>0?T.triggerPath[T.triggerPath.length-1]:null},getPreviousSlide:function(){return T.slidePath.length>0?T.slidePath[T.slidePath.length-1]:null},setFocus:function(t){if(!t)return!1;var e=b.a.getFirst(t);return!!e&&(e.focus(),!0)}},A={openSlide:function(t,e){return!(!t||!e)&&(this.setSlideOpen(t),this.addTransitionEvent(),T.setCurrentTrigger(e),T.setCurrentSlide(t),T.addCurrentLevel(),T.addTriggerPath(e),T.addSlidePath(t),k.updateTransition(),!0)},addTransitionEvent:function(){T.container.addEventListener("transitionend",this.handleTransitionEnd)},handleTransitionEnd:function(t){k.setFocus(T.currentSlide),T.container.removeEventListener("transitionend",A.handleTransitionEnd)},setSlideOpen:function(t){return!!t&&(t.classList.add("chf-mobile-navigation__slide--open"),!0)}},F={closeSlide:function(t,e){return!(!t||!e)&&(this.addTransitionEvent(),T.setCurrentTrigger(null),T.setCurrentSlide(null),T.subtractCurrentLevel(),k.updateTransition(),!0)},addTransitionEvent:function(){T.container.addEventListener("transitionend",this.handleTransitionEnd)},handleTransitionEnd:function(t){F.removeSlideOpen(T.currentSlide),b.a.focusTo(k.getPreviousClicked()),T.removeTriggerPath(),T.removeSlidePath(),F.setPreviousSlide(),T.container.removeEventListener("transitionend",F.handleTransitionEnd)},setPreviousSlide:function(){var t=k.getPreviousSlide();if(!t)return!1;T.setCurrentSlide(t)},removeSlideOpen:function(t){return!!t&&(t.classList.remove("chf-mobile-navigation__slide--open"),!0)}},D={init:function(t){return T.setContainer(t),T.setContainerHTML(),this.addContainerEvents(),this.removeNavigationDOM(),!0},addContainerEvents:function(){var t=this;if(!T.container)return!1;T.container.addEventListener("chfHeaderFlyoutOpen",(function(){return t.addNavigationDOM()})),T.container.addEventListener("chfHeaderFlyoutClose",(function(){return t.removeNavigationDOM()}))},removeNavigationDOM:function(t){return!!T.container&&(T.container.innerHTML="",!0)},addNavigationDOM:function(){return!(!T.container||!T.containerHTML)&&(k.resetTransition(),T.container.innerHTML=T.containerHTML,this.addEvents(),!0)},addEvents:function(t){var e=this;if(!T.container)return!1;var n=k.getTriggers(),r=k.getBacks();return n.forEach((function(t){t.addEventListener("click",(function(t){return e.handleTrigger(t)}))})),r.forEach((function(t){t.addEventListener("click",(function(t){return e.handleBack(t)}))})),!0},handleTrigger:function(t){var e=t.currentTarget,n=k.getSlide(e);return!!n&&(t.preventDefault(),A.openSlide(n,e),!0)},handleBack:function(t){if(!T.currentTrigger||!T.currentSlide)return!1;var e=T.currentTrigger,n=T.currentSlide;return F.closeSlide(n,e),!0}},P={iFrameUrl:"",silentLoginCookie:"silentLoginCheck",silentLoginPeriod:0,domain:".telekom.de",init:function(t,e){if(!t)return!1;this.getUrl(t),this.getSilentLoginPeriod(t),this.handleSilentLoginCookie(t,e)},getUrl:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-login-frame-url]");if(!e)return!1;var n=e.getAttribute("data-chf-login-frame-url");return""!==n&&(this.iFrameUrl=n,!0)},getSilentLoginPeriod:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-login-period]");if(!e)return!1;var n=e.getAttribute("data-chf-login-period");return""!==n&&(this.silentLoginPeriod=parseInt(n),!0)},addIFrame:function(t){var e=this;if(!t)return!1;var n=document.createElement("iframe");n.setAttribute("src",this.iFrameUrl),n.setAttribute("class","chf-display--none"),t.appendChild(n),n.addEventListener("load",(function(){e.updateData(t)}))},updateData:function(t){var e=H.getLoginData(t);H.updateData(t,e)},createSilentLoginCookie:function(t){if(this.silentLoginPeriod<=0)return!1;var e=new Date;return e.setTime(e.getTime()+1e3*this.silentLoginPeriod),c.a.set("".concat(this.silentLoginCookie+"."+t),"".concat(this.silentLoginPeriod),{expires:e,path:"/",domain:"".concat(this.domain)}),!0},handleSilentLoginCookie:function(t,e){if(!t||!e)return!1;c.a.get(this.silentLoginCookie+"."+e)?H.handleAllPortalsData(t):(this.addIFrame(t),this.createSilentLoginCookie(e))}},O={loginCookie:"",loginCookieUsername:"",typ:"cookie",portal:"",getLoginCookie:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-login-cookie]");if(!e)return!1;this.portal=e.getAttribute("data-chf-login-portal");var n=e.getAttribute("data-chf-login-cookie"),r=e.getAttribute("data-chf-login-cookie-name");return""!==n&&this.getCookieData(n,r,!1)},getCookieData:function(t,e,n,r){var i=this;return n&&(this.portal=r),new Promise((function(n){var r=c.a.get(t),o=i.filterSpecialChars(c.a.get(e));n({level:r?parseInt(r):0,username:o||""})})).then((function(t){return{typ:i.typ,portal:i.portal,level:t.level,nickname:t.username}}))},filterSpecialChars:function(t){return t?t.replace(/\+/g," ").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"'):null}},M={setStatusLoggedInL4:function(t,e){if(!t)return!1;this.getLogoutOverview(t),this.setLoggedInNotification(t),this.hideLoginOverview(t),this.updateText(t),this.handleLoggedInOverview(t,e),this.showL4Content(t)},setStatusLoggedInL3:function(t){if(!t)return!1;this.getLogoutOverview(t),this.setLoggedInNotification(t),this.updateText(t),this.hideLoginOverview(t),this.showL3Content(t)},getL3Content:function(t){if(!t)return!1;var e=t.querySelectorAll("[data-chf-logout-l3]");return!!e&&(0!==e.length&&(this.logoutL3Content=e,!0))},showL3Content:function(t){this.logoutL4Content=t.querySelectorAll("[data-chf-logout-l4]"),this.logoutL3Content.forEach((function(t){t.classList.remove("chf-display--none")}))},showL4Content:function(t){this.logoutL4Content=t.querySelectorAll("[data-chf-logout-l4]"),this.logoutL4Content.forEach((function(t){t.classList.remove("chf-display--none")}))},getLogoutOverview:function(t){return!!t&&(this.logout=t.querySelector("[data-chf-logout]"),!0)},setLoggedInNotification:function(t){t.querySelector("[data-chf-login-notification]").classList.add("chf-cta-icon__notification--visible")},hideLoginOverview:function(t){t.querySelector("[data-chf-login]").classList.add("chf-display--none"),this.logout.classList.remove("chf-display--none")},handleLoggedInOverview:function(t,e){e&&""!==e||(e=" "),this.logout.outerHTML=this.logout.outerHTML.replace(/{{USER_NAME}}/gi,e)},updateText:function(t){var e=t.querySelector("[data-chf-login-text]"),n=e.dataset.chfLoggedInText||null;return!!n&&(e.innerHTML=n,!0)}},I={serviceUrl:"",typ:"service",portal:"",getLoginServiceUrl:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-login-service]");if(!e)return!1;var n=e.getAttribute("data-chf-login-service");if(""===n)return!1;var r="".concat(n,"?loginCheckL3=").concat(H.l3content);return this.portal=e.getAttribute("data-chf-login-portal"),u.apiUrl===n?v.phoenixPortal:this.getLoginServiceData(r,!1)},getLoginServiceData:function(t,e,n){var r=this;return e&&(this.portal=n),fetch(t,{method:"GET",headers:{Accept:"application/json"}}).then((function(t){return t.ok?t.json():null})).then((function(t){return{loggedIn:!!(t&&t.userData&&t.userData.loggedIn)&&t.userData.loggedIn,nickname:t&&t.userData&&t.userData.nickname?t.userData.nickname:"",level:t&&t.userData&&t.userData.loginLevel?t.userData.loginLevel:0}})).catch((function(){return!1})).then((function(t){return{typ:r.typ,portal:r.portal,loggedIn:t.loggedIn,nickname:t.nickname,level:t.level}}))}};function w(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x={allPortalsData:"",allPortalsLoginData:[],allPortalsL3Support:!1,init:function(t){if(!t)return!1;var e=this.getAllPortalsData();this.getAllPortalsLoginData(t,e)},getAllPortalsDataAttribute:function(t){if(!t)return!1;var e=t.querySelector("[data-chf-login-all-portals]");if(!e)return!1;var n="["+e.innerHTML+"]";return JSON.parse(n)},getAllPortalsData:function(){var t=this.allPortalsData;return new Promise((function(e){var n=t;e(n||[])})).then((function(t){return t}))},getAllPortalsLoginData:function(t,e){var n=this;e.then((function(e){return e.forEach((function(t){if("SERVICE"===t.typ)if(t.url===u.apiUrl)n.updateAllPortalsLoginData(v.phoenixPortal);else{var e="".concat(t.url,"?loginCheckL3=").concat(H.l3content),r=I.getLoginServiceData(e,!0,t.id);n.updateAllPortalsLoginData(r)}else{if("COOKIE"!==t.typ)return!1;var i=O.getCookieData(t.cookie,t.username,!0,t.id);n.updateAllPortalsLoginData(i)}})),n.getFirstL4Login(t,n.allPortalsLoginData),!0}))},updateAllPortalsLoginData:function(t){return!!t&&(this.allPortalsLoginData=[].concat(w(this.allPortalsLoginData),[t]))},getFirstL4Login:function(t,e){var n=this;e.forEach((function(e){e.then((function(e){n.allPortalsCheckHasL4||(4===e.level||1===e.level||e.loggedIn&&""!==e.nickname)&&(M.setStatusLoggedInL4(t,e.nickname),n.allPortalsCheckHasL4=!0)}))}))}},H={loginData:[],allPortalsCheck:!1,allPortalsCheckHasL4:!1,l3content:!1,init:function(t){if(!t)return!1;this.L3ContentCheck(t),this.silentLoginIFrameCheck(t),this.getMetaIcon(t);var e=this.getLoginData(t);this.updateData(t,e),x.allPortalsData=x.getAllPortalsDataAttribute(t)},silentLoginIFrameCheck:function(t){if(!t)return!1;this.frameUrl=P.getUrl(t)},L3ContentCheck:function(t){if(!t)return!1;this.l3content=M.getL3Content(t)},getMetaIcon:function(t){return!!t&&(!!t.querySelector(".js-chf-meta-nav_login")&&void 0)},getLoginData:function(t){return!!t&&[O.getLoginCookie(t),I.getLoginServiceUrl(t)]},updateData:function(t,e){var n=this;this.filterLoginData(e).forEach((function(e){e.then((function(e){n.setStatus(e,t)}))}))},setStatus:function(t,e){if(t.loggedIn||t.level>0){if(4===t.level||1===t.level||t.loggedIn&&""!==t.nickname)return M.setStatusLoggedInL4(e,t.nickname),!0;if(3===t.level&&this.l3content)return M.setStatusLoggedInL3(e),!0;this.frameUrl&&(P.init(e,t.portal),this.allPortalsCheck=!0)}else if(!this.frameUrl||this.allPortalsCheck||0!==t.level&&t.loggedIn)if(this.frameUrl||this.allPortalsCheck){if(!this.allPortalsCheck)return!1;this.handleAllPortalsData(e)}else this.handleAllPortalsData(e);else P.init(e,t.portal),this.allPortalsCheck=!0},handleAllPortalsData:function(t){x.init(t),this.allPortalsCheck=!1},filterLoginData:function(t){return t?t.filter((function(t){return t})):[]}};document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("[data-chf-header]");return!!t&&(v.init(t),H.init(t),Object(i.a)(t),Object(o.a)(t),a.init(t),r.a.addEvents(),S.init(t),D.init(t),!0)}))}]);
