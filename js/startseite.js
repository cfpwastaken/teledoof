function doesFontExist(t){var e,n=document.createElement("canvas"),o=n.getContext("2d"),i="abcdefghijklmnopqrstuvwxyz0123456789";return o.font="72px monospace",e=o.measureText(i).width,o.font="72px '"+t+"', monospace",n=null,o.measureText(i).width!=e}!function(){"use strict";var t,e=[];function n(){for(;e.length;)e[0](),e.shift()}function o(t){this.a=i,this.b=void 0,this.f=[];var e=this;try{t(function(t){!function t(e,n){if(e.a==i){if(n==e)throw new TypeError;var o=!1;try{var r=n&&n.then;if(null!=n&&"object"==typeof n&&"function"==typeof r)return void r.call(n,function(n){o||t(e,n),o=!0},function(t){o||a(e,t),o=!0})}catch(t){return void(o||a(e,t))}e.a=0,e.b=n,s(e)}}(e,t)},function(t){a(e,t)})}catch(t){a(e,t)}}t=function(){setTimeout(n)};var i=2;function r(t){return new o(function(e){e(t)})}function a(t,e){if(t.a==i){if(e==t)throw new TypeError;t.a=1,t.b=e,s(t)}}function s(n){!function(n){e.push(n),1==e.length&&t()}(function(){if(n.a!=i)for(;n.f.length;){var t=(r=n.f.shift())[0],e=r[1],o=r[2],r=r[3];try{0==n.a?o("function"==typeof t?t.call(void 0,n.b):n.b):1==n.a&&("function"==typeof e?o(e.call(void 0,n.b)):r(n.b))}catch(t){r(t)}}})}o.prototype.g=function(t){return this.c(void 0,t)},o.prototype.c=function(t,e){var n=this;return new o(function(o,i){n.f.push([t,e,o,i]),s(n)})},window.Promise||(window.Promise=o,window.Promise.resolve=r,window.Promise.reject=function(t){return new o(function(e,n){n(t)})},window.Promise.race=function(t){return new o(function(e,n){for(var o=0;o<t.length;o+=1)r(t[o]).c(e,n)})},window.Promise.all=function(t){return new o(function(e,n){function o(n){return function(o){a[n]=o,(i+=1)==t.length&&e(a)}}var i=0,a=[];0==t.length&&e(a);for(var s=0;s<t.length;s+=1)r(t[s]).c(o(s),n)})},window.Promise.prototype.then=o.prototype.c,window.Promise.prototype.catch=o.prototype.g)}(),function(){function t(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function e(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function i(e,n){function i(){var t=r;o(t)&&t.a.parentNode&&n(t.g)}var r=e;t(e.b,i),t(e.c,i),o(e)}function r(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,s=null,d=null,c=null;function l(){return null===c&&(c=!!document.fonts),c}function u(){if(null===d){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}d=""!==t.style.font}return d}function h(t,e){return[t.style,t.weight,u()?t.stretch:"","100px",e].join(" ")}r.prototype.load=function(t,o){var r=this,d=t||"BESbswy",c=0,u=o||3e3,f=(new Date).getTime();return new Promise(function(t,o){if(l()&&!function(){if(null===s)if(l()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!t&&603>parseInt(t[1],10)}else s=!1;return s}()){var m=new Promise(function(t,e){!function n(){(new Date).getTime()-f>=u?e(Error(u+"ms timeout exceeded")):document.fonts.load(h(r,'"'+r.family+'"'),d).then(function(e){1<=e.length?t():setTimeout(n,25)},e)}()}),p=new Promise(function(t,e){c=setTimeout(function(){e(Error(u+"ms timeout exceeded"))},u)});Promise.race([p,m]).then(function(){clearTimeout(c),t(r)},o)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}(function(){function s(){var e;(e=-1!=b&&-1!=v||-1!=b&&-1!=g||-1!=v&&-1!=g)&&((e=b!=v&&b!=g&&v!=g)||(null===a&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=a&&(b==y&&v==y&&g==y||b==w&&v==w&&g==w||b==A&&v==A&&g==A)),e=!e),e&&(E.parentNode&&E.parentNode.removeChild(E),clearTimeout(c),t(r))}var l=new e(d),m=new e(d),p=new e(d),b=-1,v=-1,g=-1,y=-1,w=-1,A=-1,E=document.createElement("div");E.dir="ltr",n(l,h(r,"sans-serif")),n(m,h(r,"serif")),n(p,h(r,"monospace")),E.appendChild(l.a),E.appendChild(m.a),E.appendChild(p.a),document.body.appendChild(E),y=l.a.offsetWidth,w=m.a.offsetWidth,A=p.a.offsetWidth,function t(){if((new Date).getTime()-f>=u)E.parentNode&&E.parentNode.removeChild(E),o(Error(u+"ms timeout exceeded"));else{var e=document.hidden;!0!==e&&void 0!==e||(b=l.a.offsetWidth,v=m.a.offsetWidth,g=p.a.offsetWidth,s()),c=setTimeout(t,50)}}(),i(l,function(t){b=t,s()}),n(l,h(r,'"'+r.family+'",sans-serif')),i(m,function(t){v=t,s()}),n(m,h(r,'"'+r.family+'",serif')),i(p,function(t){g=t,s()}),n(p,h(r,'"'+r.family+'",monospace'))})})},"object"==typeof module?module.exports=r:(window.FontFaceObserver=r,window.FontFaceObserver.prototype.load=r.prototype.load)}(),function(){"use strict";new FontFaceObserver("TeleGroteskScreen-Regular").load().then(function(){},function(){var t=doesFontExist("Tele-GroteskNor"),e=document.querySelectorAll("[data-no-webfont]");t||Array.prototype.forEach.call(e,function(t){var e=t.getAttribute("data-no-webfont");t.classList.add(e)})})}(),function(){"use strict";function t(t){t.stopPropagation()}function e(e){e.addEventListener("mouseenter",t)}var n;n=document.querySelectorAll("[data-no-hover-bubble]"),Array.prototype.forEach.call(n,e)}(),function(){"use strict";function t(e){var n=e.currentTarget,o=n.getAttribute("data-add-class-on-hover");n.classList?n.classList.add(o):n.className+=" "+o,n.removeEventListener("mouseover",t)}function e(e){e.addEventListener("mouseover",t)}var n;n=document.querySelectorAll("[data-add-class-on-hover]"),Array.prototype.forEach.call(n,e)}(),function(){"use strict";!function(){var t=(new Date).getDate(),e=document.querySelector(".teaser__visual--dabei-counter");if(null!=e)switch(t){case 1:e.setAttribute("src","https://www.telekom.de/resources/images/420022/telekom-dabei-counter-5.png");break;case 2:e.setAttribute("src","https://www.telekom.de/resources/images/420020/telekom-dabei-counter-4.png");break;case 3:e.setAttribute("src","https://www.telekom.de/resources/images/420018/telekom-dabei-counter-3.png");break;case 4:e.setAttribute("src","https://www.telekom.de/resources/images/420016/telekom-dabei-counter-2.png");break;case 5:e.setAttribute("src","https://www.telekom.de/resources/images/420014/telekom-dabei-counter-1.png");break;default:e.setAttribute("src","https://www.telekom.de/resources/images/420022/telekom-dabei-counter-5.png")}}()}(),function(t,e,n){"use strict";var o={};t.ARIAmodal=o,o.NS="ARIAmodal",o.AUTHOR="Scott O'Hara",o.VERSION="3.3.3",o.LICENSE="https://github.com/scottaohara/accessible_modal_window/blob/master/LICENSE";var i,r,a=e.body,s=e.getElementsByTagName("main")[0]||a,d=e.querySelectorAll("[data-modal]"),c=e.querySelectorAll("body > *:not([data-modal])"),l=!1,u=!1;o.organizeDOM=function(){var t,e=a.firstElementChild||null;for(t=0;t<d.length;t++)a.insertBefore(d[t],e)},o.setupTrigger=function(){var t,n,i=e.querySelectorAll("[data-modal-open]");for(n=0;n<i.length;n++){var r=(t=i[n]).getAttribute("data-modal-open"),a=t.getAttribute("href");"BUTTON"!==t.nodeName&&(t.setAttribute("role","button"),t.tabIndex=0),""===r&&a&&(t.setAttribute("data-modal-open",a.split("#")[1]),r=a.split("#")[1]),t.removeAttribute("href"),r?(t.hasAttribute("disabled")&&!t.hasAttribute("data-modal-disabled")&&t.removeAttribute("disabled"),t.removeAttribute("hidden"),t.id=r+"__trigger-"+t.nodeName,t.addEventListener("click",o.openModal),t.addEventListener("keydown",o.keyEvents,!1)):console.warn('Missing target modal dialog - [data-modal-open="IDREF"]')}},o.setupModal=function(){var t;for(t=0;t<d.length;t++){var e,n=(e=d[t]).getAttribute("data-modal"),i=e.getAttribute("data-modal-class")||"a11y-modal",r=e.querySelector("h1, h2, h3, h4, h5, h6"),a=e.getAttribute("data-modal-label"),s=e.hasAttribute("data-modal-hide-heading"),c=e.querySelector("[data-modal-description]"),l=e.querySelector("[data-modal-document]");if("alert"===n?e.setAttribute("role","alertdialog"):e.setAttribute("role","dialog"),e.classList.add(i),e.hidden=!0,e.tabIndex="-1",o.setupModalCloseBtn(e,i,n),e.hasAttribute("data-aria-modal")&&e.setAttribute("aria-modal","true"),l&&l.setAttribute("role","document"),c&&(c.id=c.id||"md_desc_"+Math.floor(999*Math.random())+1,e.setAttribute("aria-describedby",c.id)),a)e.setAttribute("aria-label",a);else if(r){var u=e.id+"_heading";r.classList.add(i+"__heading"),r.id=u,e.setAttribute("aria-labelledby",u),r.hasAttribute("data-autofocus")&&(r.tabIndex="-1")}else console.warn("Dialogs should have their purpose conveyed by a heading element (h1).");s&&e.querySelector("#"+r.id).classList.add("at-only");var h=e.querySelectorAll('button:not([hidden]):not([disabled]), [href]:not([hidden]), input:not([hidden]):not([type="hidden"]):not([disabled]), select:not([hidden]):not([disabled]), textarea:not([hidden]):not([disabled]), [tabindex="0"]:not([hidden]):not([disabled]), summary:not([hidden]), [contenteditable]:not([hidden]), audio[controls]:not([hidden]), video[controls]:not([hidden])');h[0].classList.add("js-first-focus"),h[h.length-1].classList.add("js-last-focus")}},o.setupModalCloseBtn=function(t,n,i){var r,a=t.hasAttribute("data-modal-manual-close"),s=t.querySelectorAll("[data-modal-close-btn]"),d=t.getAttribute("data-modal-close"),c=t.getAttribute("data-modal-close-class");if(!a&&s.length<2){var l=e.createElement("button");l.type="button",t.classList.add(n),l.classList.add(n+"__close-btn"),d||"alert"===i?(l.innerHTML=d,c&&l.classList.add(c)):(l.innerHTML="<span data-modal-x></span>",l.setAttribute("aria-label","Close"),l.classList.add("is-icon-btn")),"alert"!==i&&t.appendChild(l),l.addEventListener("click",o.closeModal)}for(r=0;r<s.length;r++)s[r].addEventListener("click",o.closeModal);e.addEventListener("keydown",o.keyEvents,!1)},o.openModal=function(t,n){var s,d=n||this.getAttribute("data-modal-open"),h=r=e.getElementById(d),f=r.querySelector("[autofocus]")||r.querySelector("[data-autofocus]");if(l=r.hasAttribute("aria-modal"),n&&(u=!0),n||(t.preventDefault(),i=this.id),f?h=f:r.hasAttribute("data-modal-close-focus")&&(h=r.querySelector('[class*="close-btn"]')),a.classList.contains("modal-open"))console.warn("It is not advised to open dialogs from within other dialogs. Instead consider replacing the contents of this dialog with new content. Or providing a stepped, or tabbed interface within this dialog.");else for(a.classList.add("modal-open"),s=0;s<c.length;s++)l||(c[s].hasAttribute("aria-hidden")&&c[s].setAttribute("data-keep-hidden",c[s].getAttribute("aria-hidden")),c[s].setAttribute("aria-hidden","true")),c[s].getAttribute("inert")?c[s].setAttribute("data-keep-inert",""):c[s].setAttribute("inert","true");return r.removeAttribute("hidden"),requestAnimationFrame(function(){h.focus()}),e.addEventListener("click",o.outsideClose,!1),e.addEventListener("touchend",o.outsideClose,!1),[i,r,u]},o.closeModal=function(t){var n,o,l=e.getElementById(i)||null;for(n=0;n<c.length;n++)c[n].hasAttribute("data-keep-inert")||c[n].removeAttribute("inert"),c[n].removeAttribute("data-keep-inert"),c[n].getAttribute("data-keep-hidden")?c[n].setAttribute("aria-hidden",c[n].getAttribute("data-keep-hidden")):c[n].removeAttribute("aria-hidden"),c[n].removeAttribute("data-keep-hidden");for(a.classList.remove("modal-open"),o=0;o<d.length;o++)d[o].hasAttribute("hidden")||(d[o].hidden=!0);return null!==l?l.focus():s&&!u?(s.tabIndex=-1,s.focus()):(a.tabIndex=-1,a.focus()),[i=void 0,r=void 0,u=!1]},o.keyEvents=function(t){var n=t.keyCode||t.which;if(t.target.hasAttribute("data-modal-open"))switch(n){case 13:case 32:t.preventDefault(),t.target.click()}if(a.classList.contains("modal-open")){switch(n){case 27:o.closeModal()}if(a.classList.contains("modal-open"))var i=r.querySelector(".js-first-focus"),s=r.querySelector(".js-last-focus");e.activeElement.classList.contains("js-last-focus")&&(9!==n||t.shiftKey||(t.preventDefault(),i.focus())),e.activeElement.classList.contains("js-first-focus")&&9===n&&t.shiftKey&&(t.preventDefault(),s.focus())}},o.outsideClose=function(t){a.classList.contains("modal-open")&&!t.target.hasAttribute("data-modal-open")&&(r.contains(t.target)||"alertdialog"===r.getAttribute("role")||o.closeModal())},o.autoLoad=function(){var n,i=e.querySelectorAll("[data-modal-auto]"),r=t.location.hash||null,a=!1;if(null!==r){if(""===(n=r.split("#")[1]))return!1;if("!null"===n)return!1;var s=e.getElementById(n)||null;null!==s&&("dialog"!==s.getAttribute("role")&&"alertdialog"!==s.getAttribute("role")||(a=!0))}a?(o.openModal(null,n),i.length>1&&console.warn("Only the modal indicated by the hash value will load.")):0!==i.length&&("dialog"===i[0].getAttribute("role")||"alertdialog"===i[0].getAttribute("role")?(n=i[0].id,o.openModal(null,n),i.length>1&&console.warn("Multiple modal dialogs can not auto load.")):"button"!==i[0].getAttribute("role")&&"BUTTON"!==i[0].tagName||(n=i[0].id,i[0].click())),0===i.length||e.getElementById(n).hasAttribute("data-modal-auto-persist")||t.location.replace("#!null")},o.init=function(){o.organizeDOM(),o.setupTrigger(),o.setupModal(),o.autoLoad()},o.init()}(window,document),function(){"use strict";var t,e=document.querySelector("body"),n=27;function o(t){var n=t.querySelector("[data-modal-close-btn]");t.querySelector("[data-modal-video-container]").innerHTML="",e.removeEventListener("click",i),e.removeEventListener("keydown",a),n.removeEventListener("click",r)}function i(t){var n=document.querySelector("[data-modal]:not([hidden])"),i=n.contains(t.target);!e.classList.contains("modal-open")||t.target.hasAttribute("data-modal-open")||i||o(n)}function r(t){o(t.currentTarget.parentNode)}function a(t){var i=t.keyCode;e.classList.contains("modal-open")&&i===n&&o(document.querySelector("[data-modal]:not([hidden])"))}function s(t){var n=t.currentTarget,o=n.getAttribute("data-modal-video"),s=n.getAttribute("data-modal-open"),d=document.getElementById(s),c=d.querySelector("[data-modal-video-container]"),l=d.querySelector("[data-modal-close-btn]"),u=document.createElement("div"),h=document.createElement("div"),f=document.createElement("iframe"),m="https://www.youtube-nocookie.com/embed/"+o+"?rel=0&amp;showinfo=0&amp;autoplay=1";e.addEventListener("click",i),e.addEventListener("keydown",a),l.addEventListener("click",r),u.setAttribute("class","youtube-video"),h.setAttribute("class","youtube-video__wrapper"),f.setAttribute("src",m),f.setAttribute("class","youtube-video__iframe"),f.setAttribute("frameborder","0"),f.setAttribute("allowfullscreen",!0),f.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),h.appendChild(f),u.appendChild(h),c.innerHTML="",c.appendChild(u)}t=document.querySelectorAll("[data-modal-video]"),Array.prototype.forEach.call(t,function(t){t.addEventListener("click",s)})}();var yall=function(){"use strict";return function(t){var e=(t=t||{}).lazyClass||"lazy",n=t.lazyBackgroundClass||"lazy-bg",o="idleLoadTimeout"in t?t.idleLoadTimeout:200,i=t.observeChanges||!1,r=t.events||{},a=t.noPolyfill||!1,s=window,d="requestIdleCallback",c="IntersectionObserver",l=c in s&&c+"Entry"in s,u=/baidu|(?:google|bing|yandex|duckduck)bot/i.test(navigator.userAgent),h=["srcset","src","poster"],f=[],m=function(t,o){return f.slice.call((o||document).querySelectorAll(t||"img."+e+",video."+e+",iframe."+e+",."+n))},p=function(e){var o=e.parentNode;"PICTURE"==o.nodeName&&g(m("source",o),v),"VIDEO"==e.nodeName&&g(m("source",e),v),v(e);var i=e.classList;i.contains(n)&&(i.remove(n),i.add(t.lazyBackgroundLoaded||"lazy-bg-loaded"))},b=function(t){for(var e in r)t.addEventListener(e,r[e].listener||r[e],r[e].options||void 0)},v=function(t){for(var n in h)if(h[n]in t.dataset){t.setAttribute(h[n],t.dataset[h[n]]);var o=t.parentNode;"SOURCE"===t.nodeName&&o.autoplay&&(o.load(),/Trident/.test(navigator.userAgent)&&o.play(),o.classList.remove(e)),t.classList.remove(e)}},g=function(t,e){for(var n=0;n<t.length;n++)s[c]&&e instanceof s[c]?e.observe(t[n]):e(t[n])},y=m();if(g(y,b),l&&!u){var w=new s[c](function(t){g(t,function(t){if(t.isIntersecting||t.intersectionRatio){var e=t.target;d in s&&o?s[d](function(){p(e)},{timeout:o}):p(e),w.unobserve(e),(y=y.filter(function(t){return t!=e})).length||i||w.disconnect()}})},{rootMargin:("threshold"in t?t.threshold:200)+"px 0%"});g(y,w),i&&g(m(t.observeRootSelector||"body"),function(e){new MutationObserver(function(){g(m(),function(t){y.indexOf(t)<0&&(y.push(t),b(t),l&&!u?w.observe(t):(a||u)&&g(y,p))})}).observe(e,t.mutationObserverOptions||{childList:!0,subtree:!0})})}else(a||u)&&g(y,p)}}();document.addEventListener("DOMContentLoaded",function(){yall({threshold:100,idleLoadTimeout:0})}),function(t,e){"use strict";var n=[];function o(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0};try{this.isIntersecting=!!t.intersectionRect}catch(t){}var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function a(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(t,e){for(var n=e;n;){if(n==t)return!0;n=c(n)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var r=i.element,a=s(r),d=this._rootContainsTarget(r),c=i.entry,l=e&&d&&this._computeTargetAndRootIntersection(r,n),u=i.entry=new o({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:a,rootBounds:n,intersectionRect:l});c?e&&d?this._hasCrossedThreshold(c,u)&&this._queuedEntries.push(u):c&&c.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){for(var i,r,a,d,l,u,h,f,m=s(n),p=c(n),b=!1;!b;){var v=null,g=1==p.nodeType?t.getComputedStyle(p):{};if("none"==g.display)return;if(p==this.root||p==e?(b=!0,v=o):p!=e.body&&p!=e.documentElement&&"visible"!=g.overflow&&(v=s(p)),v&&(i=v,r=m,a=void 0,d=void 0,l=void 0,u=void 0,h=void 0,f=void 0,a=Math.max(i.top,r.top),d=Math.min(i.bottom,r.bottom),l=Math.max(i.left,r.left),u=Math.min(i.right,r.right),f=d-a,!(m=(h=u-l)>=0&&f>=0&&{top:a,bottom:d,left:l,right:u,width:h,height:f})))break;p=c(p)}return m}},i.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},i.prototype._rootIsInDom=function(){return!this.root||d(e,this.root)},i.prototype._rootContainsTarget=function(t){return d(this.root||e,t)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=o}(window,document);